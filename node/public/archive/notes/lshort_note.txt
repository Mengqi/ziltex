Notes - The Not So Short Introduction to LaTeX2e

*************************************
  Chapter 1 Things You Need to Know
*************************************

1. Space only count once.

2. \command[optional parameter]{parameter}

3. Comments

    % -> it ignores the rest of the present line.

    --- longer comments ---

    \usepackage{verbatim}

    \begin{comment}
    ...
    \end{comment}

    Note: does not work inside complex environments, like math.

    -----------------------

4. Input File Structure

    \documentclass[options]{class} % specify the sort of document

    ------ preamble begins ------

    \usepackage[options]{packages}    % load packages

    ------ preamble ends --------

    \begin{document}    % the start of the text

    \end{document}      % the end of the text, ignore the rest

5. Design Flow

    a. Edit LaTeX input file.
    b. latex foo.tex -> a .dvi (Device independent file format) file
    c. view the DVI file.
        c-1. xdvi foo.dvi   % only works on Unix with X11
        c-2. yap foo.dvi    % only works on Windows
        c-3. Convert dvi to POSTSCRIPT with GhostScript.
             dvips -Pcmz foo.dvi -o foo.ps
        c-4. Convert dvi to pdf with dvipd tool.
             dvipdf foo.dvi % works on Unix
             pdflatex foo.tex   % works on Windows

6. Document classes (p10): article, proc, minimal, report, book,
slides.

7. Document class options (p11).

8. Some of the packages distributed with LaTeX (p12).

9. texdoc % Unix command for accessing packages documentation.

10. \pagestyle{style}   % style = plain, headings, empty
    \thispagestyle{style} % page style for current page

11. Files you might encounter (p13).

12. \include{filename} % LaTeX will start a new page before
                       % processing the file.
    \includeonly{filename,filename,...} % no spaces between
                                        % filenames and spaces
    \input{filename}

13. Syntax only:

    \usepackage{syntonly}
    \syntaxonly % this line makes no DVI output will be produced

*************************************
  Chapter 2 Typesetting Text
*************************************

1. A paragraph is the typographical form that should reflect one
coherent thought, or one idea.

2. Comma: a short stop in the flow of language.

If you are not sure about where to put a comma, read the sentence
aloud and take a short breath at every comma. If this feels awkward
at some place, delete that comma; if you feel the urge to breathe
(or make a short stop) at some other place, insert a comma.

3. Line Breaking & Page Breaking

    \\ = \newline
    \\* % additionally prohibits a page break
    \newpage
    \linebreak[n], \nolinebreak[n], \pagebreak[n], \nopagebreak[n]
    % n = 0, 1 , 2, 3, 4.

    \sloppy
    \fussy

4. Hyphenation

    \hyphenation{world list} % hyphenation suggestions
    \-  % a hyphenation suggestion for a particular word
    \mbox{text} % keep text on one line
    \fbox   % a real box

5. Ready-Made Strings

    \today
    \TeX
    \LaTeX
    \LaTeXe

6. Special Characters and Symbols

    ``Quotation Marks'' % "Quotation Marks"
                        % " = ''
    X-rated % hyphen
    13--67  % en-dash
    yes---or no? % em-dash
    $-1$    % minus sign

    \怩箬糸熹ぼ箝恧荥怩箬蜷玷徕秭戾趑弪⑩荏灬箬荇屮翕徙塍灬箬き嘲墁摞茔轵泯茼狒栩睇谬溴珧邋簌礅镬荇屮翥屐箝躞蝈聃轵翦翥镯疳汶徵荇屮翡彗蝈妍蝈聃轵翦翥镯疳汶徵荇屮翦躜蝈聃轵翦翥镯疳汶徵莒滹趔澎扉痼轶ó〗翳蝈疱蜷镤螬熹雉蠼祜滹趔物箬屐骀蹯怩箬屐孳礅秫骢痱镨殁轸戾玑趱蝈镦骀樊深翦蝾狒轱钺提铉踽珏吁痧矧荃箦疳汶徵遨灬铉踽珏蓰忉忮忑澡疹殂镤镳糸镱府澡羽徙洛赭邋罪蜾万禹轸珏铄蜥翦箴徙瀣犷铒扉铄怛遽沔崎绠扉脲铝由密喇翳轶疱蜷镤翦蝽轭狒弩箦铘孱沐弼孱殒轸骘祆秣犷躔疱蜚狍戾趑弪季徕怛弼獒糸镱骝孱汨箴徙轭溟筢忪翳徜溟糸镱犰箴徙徭翦疱蜷镤铒铄邃骘芾殒躞轭翳轶物翦澡弪狎赭箴徙弩忮赭邋疱蜷镤犷翳黠蜾骘祆秣轸巩蚤綮弩描狃翦蝮犷渝泗轱铙骘翳狎糸沆沆狍荏邈糸镱荏邈糸镱铒箬秣躔轭翳翎忪荏踱箦泗轱铥荏踱篚怏邈糸镱莛狎徵蜥痂荏踱疳蜥珧狃棼莛狎酐翳躅轸忮镱箦泗轱茚痧孱溟牾篝汨犷珏翳铛礅弪轭麸戾趑弪荇徕戾镦泔铘孱趔茔栳痿弪蝈聃轵蝈痫螋矧怙镫沆狍荇轸戾茚豸栾螓狨翳矧茚钿狨翳矧茚钿茕狒妍茼犭弭轸戾翳骘蝽弪翳蝈箬秕熹忮骘蝈翳轶泔眄犷骘翳怙镫沆狍苕蝻铘磲趑弪绎磲铛礤蜥祗茼衢铐狒翦硫徕殂疳珏铛礅弪轭茚痧孱溟篝狎镦徜溟糸镱犰磲翦蜷犰轭翳怙镫茆徙腠狒翦忾忪轱珧狃棂犷轭溴卑抿矬义驽蝈钽弩莒徕屐磲螂弪茯彐磲螂弪躞踽祆佝茯彐磲螂弪莛徵弪彐磲螂弪躞踽祆佝莛徵弪彐磲螂弪北骑雉铒翦苕镲纛雉妍辈彭痂狍辁邃罪蜾荃钿弪扉铄翦酏苠眇棼苠眇棼铒蝽犰屙痂狍辁邃怡躞轭轸犰殂骘铘背蓬鲩蝻铐孱趔骑蝽狒茆彗轭後猃茆彗轭忖恺苠钿忖恺苠钿後猃贝婶屙辁瀣蓬蹴弪狒犷腻筱蜷痿轱苕祯箬戾骠茆彗轭孱蹴弪狒妪荛翦蓬蹴弪狒轸屙焙茆彗轭轸屙辁妪荛翦轸屙辁碑荛翦碹轸屙辁碑苠钿轸屙辁妪荛翦蓬蹴弪狒轸屙埠茆彗轭溴筱蜷痿轱铨荛翦碹郁躔殇溴筱蜷痿轱轸屙伯荛翦碹禹狎糨溴筱蜷痿轱轸屙伯苠钿溴筱蜷痿轱铨苠钿孱蹴弪狒妪钡旗躞桁彐衄旗躞栩殓梏犷缅铘弪茆彗轭骒躞桁彐酏戾骠犰殓铄苠钿骒躞桁彐酏茆彗轭骒躞栩殓梏蜷玷舡犰殓铄苠钿骒躞栩殓梏茆彗轭沐铘弪沐铘弪犰殓铄苠钿沐铘弪倍氧雉瀣氧雉狒轱瞵犷皱蝮豉痫珧狃栝汜蝓戾镦翳蹴骘翳扉铄戾铉翳轶茆彗轭聃雉妪项狯弪徵瀣铒扉铄箬秕熹忮祜铉弪翳犷抖汨狎徙翦蝮苠钿聃雉妪茆彗轭鲥蝮妪扉铄避扉铄曹苠钿鲥蝮妪狈菱篝蜥泗茆彗轭徕篝蜥泗苠钿徕篝蜥泗备序轭糸铉皱蜮狒轫澡荟弪恻莒滹趔泔眄犷Ⅳ桢莒滹趔泔眄犷洧荟弪猹翳篝狎鲥蝮轱茆彗轭鲥蜮狒轫痱轭秕屮徙綮翳筢礤狍翳轭瘐舢苠钿鲥蜮狒轫茆彗轭鲥蜮狒轫翳篝狎鲥蝮轱犷箴徙轶秕綮轭邃苠钿鲥蜮狒轫铒翦磲铒忮躞邃鏖翳疳蜥礤翦蝮镦雉桢泔眄犷潴惫葬怩灬茆彗轭翎怩灬螨垧矬蓰翎忪箴邈荑扉铄惚悴苘躅轸泔礅轭邃惚苘荑扉铄苠钿翎怩灬螨痫蠛衄猬憬麸瓞怙趑镯沐铘弪犰殓铐孱艉螯禳泓泔祯眍鏖漪韬瘥鏖漪椠箴邈殒翳泔祯眍箦疳蜥麸蚝利惫犰殓鸫俯利犷肠贝茆彗轭翎怩灬螨利忑惚唪轸戾茼蹯糸泔祯眍昌泯悴唪轸戾苘荑扉铄惚肠贝苘荑扉铄荑扉铄苠钿翎怩灬螨惫镱糸綮骘泔祯眍蠛茼蹯糸泔祯眍铨泓糸綮妪惫球秣桢殓梏犷鏖漪骘翳麒镬翎忪茯孱鬻泔眄犷潲茚蝌狴篝蝈翥椠桢殓梏茯孱鬻泔眄犷潲荇徕泔祗屦鏖漪椠荇徕蹯狎苠钿翎怩灬螨惫球秣翳桢殓梏镦箝铉戾蝻茯蹯妍别酏村苘鲩箝忪村轶翳桢殓梏荑扉铄茯蹯妍梆酏村苘轭鲩箝忪荑扉铄舶旗镝糸铉嘛溟弩茆彗轭骈珲蝈垧灬沐礤铘箴邈殒殄蜉茆彗轭翎忪妪埕怵茯彐焘饼茔狃糸镱汜痿轱翦糗灬忮禧焘饼莒轶麸骀殓躜弩荇徕戾箫驺镱翦铘莒轶麸骠徕戾脖序雉邈糸铉乞徵殪蔑眄犷潴荏邈糸镱犴泔铙殇弪狒遘痱雉邈糗骘雉铒翦犷痱雉邈骘雉铒翦簖犰舯荏邈糸镱埕屮轭麸爿翦糗骘雉铒翦骠铘犰舨荃箦疳汶徵遨篝徕戾蒇骘雉黹筱荏邈糸镱糸綮遘骘雉铒翦骠铘描狃翦赠疱箦趑轭歪翳屙狒殂犰骑蝽蹯徨碑澡镣迎提藻怩钿戾镣雍澡另弪殂犷歪翳屙狒殂犰语汩弭荃箦疳汶徵妍犴箜狒椠牾篝祜徜轸伯娱铉戾篷踽糸镱苘鄣痿卑剥恧摞除镦麽翦蜍苒叼糨翦篝戾荏磲箬や啕暹暹瘕殓铒蝈翳桢殓梏镦翳屮痱弩箝镱茆彗轭羼踽糸镱溟箴灬篝戾莒轫荇荛铈豉羼踽糸镱狨麸磲糸汜祆铛礅弪邃荏蹴啕虢饼揞苕蜥沱饼朕昌杰骝徙痖薏洱莒徕屐焘荇徵翮苠钿羼踽糸镱茆彗轭羼踽糸镱羼踽糸镱铒铛礅弪邃苠钿羼踽糸镱苒茌犰箫铒铛礅弪邃钞歪翳惋溴岙惋篝箴徙弩犷扉铄怛遽塍滹铒栳鲥犷箝珙殒殂犷沐骑箴徙搴墁荞踽荞聃徜猱彭痿扉铄狎铒犰祜麇洚惝裴汨戾趑弪轶泔铙殇弪邃麸忮翳钺礤镦鲠蜷徕戾骑铒蝽犰翦艉荇屮酐ぼ骘蜥祆荛茼狒桠纣引荞聃徜摞昌茜羼挨串迈殪溟铉蚂镢塍镦歪翳屙狒殂犰骑蝽蹯串田麇蜚狍球邋体趑弪ぼ灬礅溽茗楝莛楝荇桢翎茼醅苄栝芟礤玑苣屐翎串砒痫铄铘蟋吁疱蝮泸轲趔ㄞ犷吁怏泸轲趔ㄟ莛蕹啕殛磉荇屮酐祟豸椠串烷筱屐灬铄秕荏耱糅秕趔殇遢轭箝溴荏躜茴羼芴彐趄殓梏狎蝻莒彐趄殓梏狎蝻茔滹莒滹趔茱鲥蜢轭妍荃钿弪扉铄荃钿弪扉铄茱鲥蜮蜥沐黹滗戾搋痧弪荃钿弪怛徙妍黹滗戾哽秣弪荑狒刭荀殇彖狒刭茆狎甙荟邈谅茱鲥蝌殓梏狎蝻鼷谅苣邈灬蝈歪翳橡弪狒矧茚蜱椠狎玷黠螂镱禊轭翳痱遽礅戾荏蹴搋痧弪哽秣弪黹滗戾茺岈猬丬Ⅺ岈猬泯莒彐舢茕溽珑弪苕蜥沱{}\right)  % auto size

     \big\} < \Big\} < \bigg\} < \Bigg\}

5. Single Equations that are Too Long: multline

    5.1 Wrap an equation before an equality sign or an operator
    5.2 A wrap before = is preferable to a wrap before any operator
    5.3 A wrap before + or - is preferable to a wrap before *
    5.4 Any other type of wrap should be avoided if at all possible

    \begin{multline}    % from amsmath
     a + b + c +d + e + f + g + h + i\\
     = j + k + l + m + n
    \end{multline}

6. Multiple Equations

    6.1 Bad examples

    \begin{align}
    a & = b + c \\  % mark 1
      & = d + e     % mark 2
    \end{align}

    \begin{align}
    a & = b + c \\
      & = d + e + f + g + h + i
        + j + k + l \nonumber \\    % \nonumber will yield no mark
        & + m + n + o \\            % + will align with =
      & = p + q + r + s
    \end{align}

    6.2 Better solution

    \begin{eqnarray}
      a & = & b + c \\
        & = & d + e + f + g + h + i
        + j + k + l \nonumber \\
        && +\: m + n + o \\     % still not optimal
        & = & p + q + r + s
    \end{eqnarray}

    \begin{eqnarray}
      a & = & a = a % spaces around the equality sings are too long
    \end{eqnarray}

    \begin{eqnarray}
      a & = & b + c \\
        & = & d + e + f + g + h^2
        + i^2 + j       % overlaps with the mark
        \label{eq:faultyeqnarray}
    \end{eqnarray}

    6.3 Better better solution

    \begin{eqnarray}
      \lefteqn{a + b + c + d
        + e + f + g + h} \nonumber\\
        & = & i + j + k + l + m \\
        & = & n + o + p + q + r + s
    \end{eqnarray}

    \begin{eqnarray}    % is not optimal as the RHS is too short
      \lefteqn{a + b + c + d
        + e + f + g + h} \nonumber\\
        & = & i + j
    \end{eqnarray}

    6.4 IEEEeqnarray Environment

    \begin{IEEEeqnarray}{rCl}   % require package IEEEtrantolls
      a & = & b + c             % rCl i.e. {right-center-left}
      \\                        % 1st column right-justified
      & = & d + e +f + g + h    % 2nd column more space around it
      + i + j + k \nonumber\\   % 3rd column left-justified
      && +\: l + m + n + o      % capital C means more space
      \\
      & = & p + q + r + s
    \end{IEEEeqnarray}

    6.5 IEEEeqnarray Common Usage (Not Finished)

    \begin{IEEEeqnarray}{rCl}
      a & = & b + c
      \\
      & = & d + e + f + g + h
      + i + j + k
      \IEEEeqnarraynumspace\\   % \IEEEeqnarraynumspace
      & = & l + m + n           % the whole equation is shifted by
    \end{IEEEeqnarray}          % the size of the equation numbers

    \begin{IEEEeqnarray}{rCl}
      \IEEEeqnarraymulticol{3}{l}{  %identical to \multicolumns
        a + b + c + d + e + f
        + g + h
      }\nonumber\\ \quad        % inserting\quad can easily adapt
      & = & i + j               % the depth of the equation signs
      \\
      & = & k + l + m
    \end{IEEEeqnarray}

    \begin{IEEEeqnarray}{rCl}
      a & = & b + c
      \\
      & = & d + e + f + g + h
      + i + j + k \nonumber\\
      && +\: l + m + n + o      % \: for additional space
      \\
      & = & p + q + r + s
    \end{IEEEeqnarray}

7. Arrays and Matrices

    7.1 Simple arrays example

    \begin{equation*}
      \mathbf{X} = \left(
        \begin{array}{ccc}
          x_1 & x_2 & \ldots \\
          x_3 & x_4 & \ldots \\
          \vdots & \vdots & \ddots
        \end{array} \right)
    \end{equation*}

    7.2 Piecewise functions

    \begin{equation*}
     |x| = \left\{
       \begin{array}{rl}
        -x & \text{if } x < 0,\\
         0 & \text{if } x = 0,\\
         x & \text{if } x > 0.
       \end{array} \right.      % \right. as an invisible delimiter
    \end{equation*}

    % amsmath syntax

    \begin{equation*}
     |x| =
     \begin{cases}
       -x & \text{if } x < 0,\\
        0 & \text{if } x = 0,\\
        x & \text{if } x > 0.
     \end{cases}
    \end{equation*}

    7.3 Matrix

    matrix(none)
    pmatrix (
    bmatrix [
    Bmatrix {
    vmatrix |
    Vmatrix ||

    % maximum column number is 10, but it is customizable

8. Spacing in Math Mode

    \,  % 3/18 quad
    \:  % 4/18 quad
    \;  % 5/18 quad

    \begin{equation*}
      \int_1^2 \ln x \, \mathrm{d}x % \mathrm = math roman
    \end{equation*}

    % for spacing that is too wide between integrals: \!

    \int\!\!\!\intf(x)g(y) \, \mathrm(d) x \mathrm(d) y

    % \iint \iiint \idotsint

    \iint f(x)g(y) \, \mathrm(d) x \mathrm(d) y

9. Phantoms

    \begin{equation*}
    {}^{14}_{6}\text{C}
    \qquad \text{versus} \qquad
    {}^{14}_{\phantom{1}6}\text{C}  % \phantom for reserving spaces
    \end{equation*}

10. Fiddling with the Math Fonts

    \begin{equation*}
     \Re            \qquad
     \mathcal{R}    \qquad
     \mathfrak{R}   \qquad  % require package amssymb
     \mathbb{R}     \qquad  % require package amsfonts
    \end{equation*}

    % set font size in math mode
    \displaystyle(123)
    \textstyle(123)
    \scriptstyle(123)
    \scriptscriptstyle(123)

    % if \sum is placed in \frac, it'll be typeset in text style
    % but you could change it by \displaystyle{\sum_{low}^up mid}

    10.1 Bold Symbols

    $\mu, M$
    $\mathbf{\mu}, \mathbf{M}$
    \boldmath{$\mu, M$}
    $\boldsymbol{\mu}, \boldsymbol{M}$

11. Theorems, Lemmas, ...

    % in the preamble: counter=other_name, section=under_curr_section?

    \newtheorem{name}[counter]{text}[section]

    % in the document

    \begin{name}[text]
    This is my interesting theorem.
    \end{name}

    % require package amsthm

    \theoremstyle{definition}   \newtheorem{law}{Law}
    \theoremstyle{plain}        \newtheorem{jury}[law]{Jury}
    \theoremstyle{remark}       \newtheorem*{marg}{Margaret}

    \begin{law} \label{law:box}
    Don't hide in the witness box
    \end{law}
    \begin{jury}[The Twelve]
    It could be you! So beware and see law\ref{law:box}.
    \end{jury}
    \begin{marg}
    No, No, No
    \end{marg}

    11.1 Proofs and End-of-Proof Symbol

    \begin{proof}
     Trivial, use
     \begin{equation*}
       E=mc^2.  \qedhere    % \qedhere move "eop" symbol around for
     \end{equation*}        % situations where it could end up on a
    \end{proof}             % line, does NOT work for IEEEeqnarray

    \begin{proof}
      This is a proof that ends with an equation array:
      \begin{equation}
        a = b + c. \qedhere
      \end{equation}
    \end{proof}

12. List of Mathematical Symbols (p75)

***************************
  Chapter 4 Specialities
***************************

1. Including Encapsulated PostScript

    % steps to include a picture into your document:
    a) Export the picture from your graphics program in EPS format.
    b) Load the graphicx package in the preamble of the input file
       with \usepackage[driver]{graphicx}
       * driver is the name of your "dvi to POSTSCRIPT" converter
       * program, like dvips. Convert .eps into .dvi file.
    c) \includegraphics[key=value,...]{file}
       * key = width | height | angle | scale

        % code example

        \begin{figure}
        \centering
        \includegraphics[angle=90,
                         width=0.5\textwidth]{text}
        \caption{This is a test.}
        \end{figure}

2. Bibliography

    \bibitem[label]{marker}

    \cite{marker}

    % bibliography
    \begin{thebibliography}{99}     % 99 means item numbers will
    \bibitem{pa} H.Part1:          % not be wider than number 99
    Press...
    \end{thebibliography}

    % For larger projects, use BibTeX program.

3. Indexing

    \usepackage{makeidx}

    \makeindex  % in the preamble

    \index{key@formatted_entry}

    \printindex

    % formatted_entry will appear in the index and key will be used
    % for sorting. if no key, formatted_entry will be used for
    % sorting.

    *.tex -> *.idx

    makeindex *.idx -> *.ind    % prompt command

4. Fancy Headers

    \usepackage{fancyhdr}

5. The Verbatim Package

    \usepackage{verbatim}

    \verbatiminput{filename}

6. Installing Extra Packages (p89)

    *.ins
    *.dtx

    % first part
    6.1.1 latex *.ins -> *.sty
    6.1.2 move *.cfg & *.sty -> tex/latex/geometry/...
    6.1.3 Refresh distribution's file-name database:
        TeXlive:    texhash
        MiKTeX:     initexmf --update-fndb

    % second part
    6.2.1 latex *.dtx -> *.dvi
    6.2.2 *.idx? Yes
          makeindex -s gind.ist name
          latex *.dtx
    6.2.3 *.idx? No
          make .ps or .pdf file

7. Working with pdfLaTeX (skip)

   The main differences concern three areas:
   a) the fonts to use
   b) the format of images to include
   c) the manual configuration of hyperlinks

8. Working with XeLaTeX (skip)

   ......

9. Creating Presentations (skip)

   ......

**********************************************
  Chapter 5 Producing Mathematical Graphics
**********************************************

 (skip)

*******************************
  Chapter 6 Customizing LaTeX
*******************************

1. New Commands, Environments and Packages

2. Fonts and Sizes

3. Spacing

4. Page Layout

5. More Fun With Lengths

6. Boxes

6. Rules
